EData <- read.table('GSE64985_re-analysis_of_GPL570.txt', sep = ' ')  # Downloaded from http://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE64985

require(GEOmetadb)
getSQLiteFile()
con <- dbConnect(SQLite(), 'GEOmetadb.sqlite')
rs <- dbGetQuery(con, paste("select gsm,title,description", "from gsm where gpl='GPL570'"))
dbDisconnect(con)

rs2 <- rs[match(colnames(EData), rs[,1]),]
rownames(rs2) <- colnames(EData)
rs2[is.na(rs2[,2]),2] <- '--'
rs2[is.na(rs2[,3]),3] <- '--'

require('Biobase')
GSE64985 <- ExpressionSet(assayData = EData, phenoData = new("AnnotatedDataFrame", data = rs2[,-1]))

